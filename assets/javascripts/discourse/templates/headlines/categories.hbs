<aside class="headlines-filters">
  <label class="filter-type" for="country">{{i18n 'headlines.country'}}</label>
  {{combo-box valueAttribute="name" content=countries value=country none="headlines.country_select_prompt"}}

  <label class="filter-type" for="header_type">{{i18n 'headlines.header_type'}}</label>
  <ul>
    {{#each type in headerTypes}}
      <li>
        <label for="{{type.name}}">
          {{input type="checkbox" checked=type.selected}}
          {{localeInterpolation 'headlines.headers' type.name}}
        </label>
      </li>
    {{/each}}
  </ul>
</aside>
{{#conditional-loading-spinner condition=loading}}
  {{#unless domainsEmpty}}
    <section class="categories-list">
      <nav class="switch-controls">
        <a href="#" {{action "showMosaic"}} {{bind-attr class="showMosaicChart:active-switch"}}>
          {{fa-icon "th"}}
          {{{i18n 'headlines.chart_type.mosaic'}}}
        </a>
        <a href="#" {{action "showPie"}} {{bind-attr class="showMosaicChart::active-switch"}}>
          {{fa-icon "pie-chart"}}
          {{{i18n 'headlines.chart_type.pie'}}}
        </a>
      </nav>
      <div>
        <ul>
          {{#each category in model}}
            {{#if category.domains}}
              <li class="category-card">
                <h3>{{category.title}}</h3>

                <p>{{i18n 'headlines.statistic_by_sites'}}</p>

                <div class="chart">
                  {{category-chart model=category type=chartType}}

                  <ul {{bind-attr class="showMosaicChart:mozaic-chart-labels:pie-chart-labels"}}>
                    <li>
                      <span class="chart-label">A</span>
                      <span class="chart-value value-grade-a"></span>
                      <span class="label-grade-a">{{category.gradeA}}</span>
                    </li>
                    <li>
                      <span class="chart-label">B</span>
                      <span class="chart-value value-grade-b"></span>
                      <span class="label-grade-b">{{category.gradeB}}</span>
                    </li>
                    <li>
                      <span class="chart-label">C</span>
                      <span class="chart-value value-grade-c"></span>
                      <span class="label-grade-c">{{category.gradeC}}</span>
                    </li>
                    <li>
                      <span class="chart-label">D</span>
                      <span class="chart-value value-grade-d"></span>
                      <span class="label-grade-d">{{category.gradeD}}</span>
                    </li>
                  </ul>
                </div>

                {{#link-to 'headlines.categories-show' category.id class="btn btn-primary"}}
                  {{i18n 'headlines.view_all_sites'}}
                {{/link-to}}
              </li>
            {{/if}}
          {{/each}}
        </ul>
      </div>
    </section>
  {{else}}
    <div>{{i18n 'headlines.no_results'}}</div>
  {{/unless}}
{{/conditional-loading-spinner}}
